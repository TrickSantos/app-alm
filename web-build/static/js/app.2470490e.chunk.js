(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{178:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ge}));var o=n(9),r=n.n(o),i=n(63),a=n(183),c=n(0),s=n(258),l=n(180),d=n(50),u=n(179),f=n(5),b=localStorage.getItem("TOKEN_API"),j=localStorage.getItem("STORAGE_USER"),g=Object(c.createContext)({}),h=function(e){var t=e.children,n=Object(c.useState)(j?JSON.parse(j):null),o=r()(n,2),i=o[0],a=o[1],s=Object(c.useState)(b),l=r()(s,2),d=l[0],h=l[1],m=Object(u.io)("wss://api-alm.server.sysirius.com",{autoConnect:!1,auth:{token:d},extraHeaders:{Authorization:"Bearer "+d},transportOptions:{polling:{extraHeaders:{Authorization:"Bearer "+d}}}});Object(c.useEffect)((function(){return m.connect(),m.on("exception",(function(e){"Forbidden resource"===e.message&&(localStorage.clear(),h(null),a(null))})),function(){m&&m.disconnect()}}),[m]),Object(c.useEffect)((function(){var e=localStorage.getItem("STORAGE_USER"),t=localStorage.getItem("TOKEN_API");t&&e&&(m.disconnect(),m.auth={token:t},m.connect())}),[m,d]);return Object(f.jsx)(g.Provider,{value:{signed:!!i,usuario:i,setUsuario:a,login:function(e,t){return new Promise((function(n,o){m.emit("login",{email:e,password:t},(function(e){"error"===e.status&&o(e),localStorage.setItem("STORAGE_USER",JSON.stringify(e.usuario)),localStorage.setItem("TOKEN_API",e.token),h(e.token),a(e.usuario),n(e)}))}))},socket:m},children:t})};function m(){return Object(c.useContext)(g)}var O=n(256),x=n(110),p=n(7),C=n(27),y=n(100),v=n(109),w=n(40),F=n(99),S=n.n(F),R=n(255),k=n(261),I=n(10),T=I.default.create({container:{flex:1},imageBg:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{width:"100%",padding:20,alignItems:"center",justifyContent:"center"},titleText:{color:"#FFFFFF",fontFamily:"RobotoCondensed_400Regular",fontSize:28},main:{flex:1,width:"100%",backgroundColor:"#EDEDED"},item:{width:"100%",backgroundColor:"#FFFFFF",flexDirection:"row",alignItems:"center",padding:15,borderBottomColor:"#ABA7A7",borderBottomWidth:1,marginBottom:2},itemText:{width:"100%",fontFamily:"RobotoCondensed_400Regular",fontSize:28,color:"#ABA7A7"}}),B=function(e){var t=e.item,n=e.onPress,o=Object(d.useToast)();return Object(f.jsxs)(w.default,{style:T.item,onPress:function(){t.ativo?n():o.show("Evento n\xe3o liberado")},children:[Object(f.jsx)(C.default,{style:T.itemText,children:t.nome}),t.ativo?Object(f.jsx)(R.default,{name:"right",size:24,color:"#CCCCCC"}):Object(f.jsx)(k.default,{name:"lock",size:24,color:"#CCCCCC"})]})},E=function(e){var t=e.navigation,n=m().socket,o=Object(c.useState)([]),i=r()(o,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){n.emit("evento:index",(function(e){return s(e)})),n.on("evento:created",(function(){n.emit("evento:index",(function(e){return s(e)}))})),n.on("evento:destroyed",(function(){return n.emit("evento:index",(function(e){return s(e)}))})),n.on("evento:updated",(function(){n.emit("evento:index",(function(e){return s(e)}))}))}),[]),Object(f.jsx)(p.default,{style:T.container,children:Object(f.jsx)(x.LinearGradient,{style:T.container,colors:["#f2621a","#f2621b","#f3621a","#000000"],children:Object(f.jsxs)(y.default,{style:T.imageBg,source:S.a,children:[Object(f.jsx)(p.default,{style:T.title,children:Object(f.jsx)(C.default,{style:T.titleText,children:"Check-In"})}),Object(f.jsx)(p.default,{style:T.main,children:Object(f.jsx)(v.default,{data:a,renderItem:function(e){var n=e.item;return Object(f.jsx)(B,{item:n,onPress:function(){return t.navigate("Scanner",n)}})},keyExtractor:function(e){return e.id.toString()}})})]})})})},P=n(182),_=I.default.create({container:{flex:1,flexDirection:"column"},main:{flex:1,backgroundColor:"#F2621A",paddingHorizontal:"10%",paddingBottom:"20%",paddingTop:"5%"},camera:{borderRadius:50,flex:1,overflow:"hidden"},bottomBar:{width:"100%",height:"8%",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF"},button:{height:50,width:50,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50}}),A=n(259),z=I.default.create({headerBar:{alignItems:"flex-start",justifyContent:"center",backgroundColor:"#F2621A",width:"100%",padding:20}}),D=n(32),L=function(){var e=Object(D.useNavigation)();return Object(f.jsx)(p.default,{style:z.headerBar,children:Object(f.jsx)(w.default,{onPress:e.goBack,children:Object(f.jsx)(R.default,{name:"arrowleft",size:24,color:"#fff"})})})},N=function(e){var t=e.navigation,n=e.route.params,o=m().socket,r=Object(d.useToast)();return Object(c.useEffect)((function(){o.emit("evento:find",n.id,(function(e){e.ativo||t.popToTop()}))}),[]),Object(f.jsxs)(p.default,{style:_.container,children:[Object(f.jsx)(L,{}),Object(f.jsx)(p.default,{style:_.main,children:Object(f.jsx)(p.default,{style:_.camera,children:Object(f.jsx)(A.default,{onBarCodeScanned:function(e){console.log("escaneado"),o.emit("usuario:find",e.data,(function(e){"error"===e.status?(e.message.forEach((function(e){return r.show(e,{type:"danger"})})),t.goBack()):t.navigate("CheckIn",{eventoId:n.id,clubeId:e.clubeId,usuario:e})}))},barCodeScannerSettings:{barCodeTypes:[P.Constants.BarCodeType.qr]}})})}),Object(f.jsx)(p.default,{style:_.bottomBar,children:Object(f.jsx)(w.default,{style:_.button,onPress:function(){return t.navigate("Codigo",{eventoId:n.id})},children:Object(f.jsx)(R.default,{name:"scan1",size:24,color:"#ffffff"})})})]})},W=I.default.create({container:{flex:1,flexDirection:"column",paddingHorizontal:"5%",paddingBottom:"10%",backgroundColor:"#F2621A"},main:{flex:1,backgroundColor:"#ffffff",borderRadius:50,overflow:"hidden",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},card:{justifyContent:"center",alignItems:"center",height:"60%",width:"100%",backgroundColor:"#0DBA3E",borderBottomRightRadius:150,borderBottomLeftRadius:150},cardText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:36},buttonContainer:{width:"100%",height:"40%",justifyContent:"flex-end",alignItems:"center"},nameText:{margin:5},button:{height:50,width:150,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50,marginBottom:50,marginTop:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}}),U=function(e){var t=e.navigation,n=e.route.params,o=n.clubeId,r=n.eventoId,i=n.usuario,a=m().socket,c=Object(d.useToast)();return Object(f.jsxs)(p.default,{style:W.container,children:[Object(f.jsx)(L,{}),Object(f.jsxs)(p.default,{style:W.main,children:[Object(f.jsxs)(p.default,{style:W.card,children:[Object(f.jsx)(R.default,{name:"checkcircleo",size:60,color:"#FFFFFF"}),Object(f.jsx)(C.default,{style:W.cardText,children:"Check-In"}),Object(f.jsx)(C.default,{style:W.cardText,children:"Confirmado"})]}),Object(f.jsxs)(p.default,{style:W.buttonContainer,children:[Object(f.jsx)(C.default,{style:W.nameText,children:i.nome}),Object(f.jsx)(C.default,{style:W.nameText,children:i.clube.nome}),Object(f.jsx)(w.default,{style:W.button,onPress:function(){a.emit("presenca:create",{clubeId:o,eventoId:r,usuarioId:i.id},(function(e){"error"===e.status?(c.show("Erro ao confirmar presen\xe7a",{type:"danger"}),t.goBack()):(c.show("Presen\xe7a confirmada!",{type:"sucess"}),t.goBack())}))},children:Object(f.jsx)(C.default,{style:W.buttonText,children:"OK"})})]})]})]})},G=n(2),H=n.n(G),K=n(163),J=n(86),V=n(90),q=I.default.create({container:{flex:1,backgroundColor:"#F2621A",alignItems:"center"},title:{marginTop:50,textAlign:"center",fontSize:30,color:"#ffffff",fontFamily:"RobotoCondensed_400Regular"},codeFiledRoot:{marginTop:20,width:280,marginLeft:"auto",marginRight:"auto"},cellRoot:{width:30,height:60,justifyContent:"center",alignItems:"center",borderBottomColor:"#FFFFFF",borderBottomWidth:2},cellText:{color:"#FFFFFF",fontSize:32,textAlign:"center",fontFamily:"RobotoCondensed_400Regular"},focusCell:{borderBottomColor:"#189EF1",borderBottomWidth:2},button:{height:50,width:150,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50,marginTop:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}});function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){var t=e.navigation,n=e.route.params,o=m().socket,i=Object(d.useToast)(),a=Object(c.useState)(""),s=r()(a,2),l=s[0],u=s[1],b=Object(V.useBlurOnFulfill)({value:l,cellCount:7}),j=Object(V.useClearByFocusCell)({value:l,setValue:u}),g=r()(j,2),h=g[0],O=g[1],x=function(){return t.goBack(),!0};return Object(c.useEffect)((function(){return J.default.addEventListener("hardwareBackPress",x),function(){return J.default.removeEventListener("hardwareBackPress",x)}}),[]),Object(f.jsxs)(K.default,{style:q.container,children:[Object(f.jsx)(L,{}),Object(f.jsx)(C.default,{style:q.title,children:"Digite o c\xf3digo"}),Object(f.jsx)(V.CodeField,M(M({ref:b},h),{},{value:l,onChangeText:u,cellCount:7,rootStyle:q.codeFiledRoot,keyboardType:"number-pad",textContentType:"oneTimeCode",renderCell:function(e){var t=e.index,n=e.symbol,o=e.isFocused;return Object(f.jsx)(p.default,{onLayout:O(t),style:[q.cellRoot,o&&q.focusCell],children:Object(f.jsx)(C.default,{style:q.cellText,children:n||o&&Object(f.jsx)(V.Cursor,{})})},t)}})),Object(f.jsx)(w.default,{style:q.button,onPress:function(){o.emit("usuario:find",l,(function(e){"error"===e.status?(e.message.forEach((function(e){return i.show(e,{type:"danger"})})),t.goBack()):t.replace("CheckIn",{eventoId:n.eventoId,clubeId:e.clubeId,usuario:e})}))},children:Object(f.jsx)(C.default,{style:q.buttonText,children:"OK"})})]})},X=Object(O.default)(),Y=function(){return Object(f.jsxs)(X.Navigator,{children:[Object(f.jsx)(X.Screen,{name:"Eventos",component:E,options:{headerShown:!1}}),Object(f.jsx)(X.Screen,{name:"Scanner",component:N,options:{headerShown:!1}}),Object(f.jsx)(X.Screen,{name:"Codigo",component:Q,options:{headerShown:!1}}),Object(f.jsx)(X.Screen,{name:"CheckIn",component:U,options:{headerShown:!1}})]})},Z=n(8),ee=n.n(Z),te=n(103),ne=I.default.create({container:{backgroundColor:"#ffffff",opacity:.9,marginTop:5,marginBottom:5,borderRadius:10,flexDirection:"row",alignItems:"center",paddingHorizontal:"5%"},input:{fontFamily:"RobotoCondensed_400Regular",paddingVertical:15,paddingLeft:15,fontSize:16,width:"100%"}});function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){return Object(f.jsxs)(p.default,{style:ne.container,children:[e.iconPrefix&&e.iconPrefix,Object(f.jsx)(te.default,re({style:ne.input},e)),e.iconSuffix&&e.iconSuffix]})},ae=I.default.create({container:{flex:1},imageBg:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},mainForm:{width:"100%",padding:20},button:{backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",alignSelf:"center",width:"50%",padding:10,borderRadius:10,marginTop:50},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}}),ce=n(257),se=function(e){e.navigation;var t=m().login,n=Object(c.useState)(""),o=r()(n,2),i=o[0],a=o[1],s=Object(c.useState)(""),l=r()(s,2),d=l[0],u=l[1],b=function(){var e=ee()((function*(){yield t(i,d)}));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(p.default,{style:ae.container,children:Object(f.jsx)(x.LinearGradient,{style:ae.container,colors:["#f2621a","#f2621b","#f3621a","#000000"],children:Object(f.jsx)(y.default,{style:ae.imageBg,source:S.a,children:Object(f.jsxs)(p.default,{style:ae.mainForm,children:[Object(f.jsx)(ie,{iconPrefix:Object(f.jsx)(k.default,{name:"user-alt",size:18,color:"#CCCCCC"}),keyboardType:"email-address",value:i,onChangeText:a}),Object(f.jsx)(ie,{value:d,onChangeText:u,secureTextEntry:!0,iconPrefix:Object(f.jsx)(k.default,{name:"lock",size:18,color:"#CCCCCC"}),iconSuffix:Object(f.jsx)(ce.default,{name:"ios-eye-sharp",size:18,color:"#CCCCCC"})}),Object(f.jsx)(w.default,{style:ae.button,onPress:b,children:Object(f.jsx)(C.default,{style:ae.buttonText,children:"Entrar"})})]})})})})},le=Object(O.default)(),de=function(){return Object(f.jsxs)(le.Navigator,{initialRouteName:"Login",children:[Object(f.jsx)(le.Screen,{name:"Login",component:se,options:{headerShown:!1}}),Object(f.jsx)(le.Screen,{name:"App",component:Y,options:{headerShown:!1}})]})},ue=function(){return m().signed?Object(f.jsx)(Y,{}):Object(f.jsx)(de,{})},fe=function(){return Object(f.jsx)(s.default,{children:Object(f.jsxs)(d.ToastProvider,{children:[Object(f.jsx)(l.StatusBar,{backgroundColor:"#f2621a"}),Object(f.jsx)(h,{children:Object(f.jsx)(ue,{})})]})})},be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function ge(){var e=Object(i.useFonts)({RobotoCondensed_300Light:i.RobotoCondensed_300Light,RobotoCondensed_300Light_Italic:i.RobotoCondensed_300Light_Italic,RobotoCondensed_400Regular:i.RobotoCondensed_400Regular,RobotoCondensed_400Regular_Italic:i.RobotoCondensed_400Regular_Italic,RobotoCondensed_700Bold:i.RobotoCondensed_700Bold,RobotoCondensed_700Bold_Italic:i.RobotoCondensed_700Bold_Italic});return r()(e,1)[0]?Object(f.jsx)(fe,{}):Object(f.jsx)(a.default,{})}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):je(t,e)}))}}()},192:function(e,t,n){e.exports=n(244)},99:function(e,t,n){e.exports=n.p+"static/media/logo.27ca7d3d.png"}},[[192,1,2]]]);
//# sourceMappingURL=app.2470490e.chunk.js.map