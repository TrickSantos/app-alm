(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{175:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return de}));var o=n(11),r=n.n(o),i=n(57),c=n(180),a=n(0),l=n(256),s=n(177),d=n(176),u=n(6),f=localStorage.getItem("TOKEN_API"),b=localStorage.getItem("STORAGE_USER"),j=Object(a.createContext)({}),g=function(e){var t=e.children,n=Object(a.useState)(b?JSON.parse(b):null),o=r()(n,2),i=o[0],c=o[1],l=Object(a.useState)(f),s=r()(l,2),g=s[0],h=s[1],m=Object(d.io)("wss://api-alm.server.sysirius.com",{autoConnect:!1,auth:{token:g},extraHeaders:{Authorization:"Bearer "+g},transportOptions:{polling:{extraHeaders:{Authorization:"Bearer "+g}}}});Object(a.useEffect)((function(){return m.connect(),m.on("exception",(function(e){"Forbidden resource"===e.message&&(localStorage.clear(),h(null),c(null))})),function(){m&&m.disconnect()}}),[m]),Object(a.useEffect)((function(){var e=localStorage.getItem("STORAGE_USER"),t=localStorage.getItem("TOKEN_API");t&&e&&(m.disconnect(),m.auth={token:t},m.connect())}),[m,g]);return Object(u.jsx)(j.Provider,{value:{signed:!!i,usuario:i,setUsuario:c,login:function(e,t){return new Promise((function(n,o){m.emit("login",{email:e,password:t},(function(e){"error"===e.status&&o(e),localStorage.setItem("STORAGE_USER",JSON.stringify(e.usuario)),localStorage.setItem("TOKEN_API",e.token),h(e.token),c(e.usuario),n(e)}))}))},socket:m},children:t})};function h(){return Object(a.useContext)(j)}var m=n(254),O=n(106),x=n(8),p=n(27),C=n(96),y=n(107),v=n(47),w=n(92),F=n.n(w),R=n(253),S=n(259),k=n(10),I=k.default.create({container:{flex:1},imageBg:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{width:"100%",padding:20,alignItems:"center",justifyContent:"center"},titleText:{color:"#FFFFFF",fontFamily:"RobotoCondensed_400Regular",fontSize:28},main:{flex:1,width:"100%",backgroundColor:"#EDEDED"},item:{width:"100%",backgroundColor:"#FFFFFF",flexDirection:"row",alignItems:"center",padding:15,borderBottomColor:"#ABA7A7",borderBottomWidth:1,marginBottom:2},itemText:{width:"100%",fontFamily:"RobotoCondensed_400Regular",fontSize:28,color:"#ABA7A7"}}),T=function(e){var t=e.item,n=e.onPress;return Object(u.jsxs)(v.default,{style:I.item,onPress:n,children:[Object(u.jsx)(p.default,{style:I.itemText,children:t.nome}),t.ativo?Object(u.jsx)(R.default,{name:"right",size:24,color:"#CCCCCC"}):Object(u.jsx)(S.default,{name:"lock",size:24,color:"#CCCCCC"})]})},P=function(e){var t=e.navigation,n=h().socket,o=Object(a.useState)([]),i=r()(o,2),c=i[0],l=i[1];return Object(a.useEffect)((function(){n.emit("evento:index",(function(e){return l(e)})),n.on("evento:created",(function(){n.emit("evento:index",(function(e){return l(e)}))})),n.on("evento:destroyed",(function(){return n.emit("evento:index",(function(e){return l(e)}))})),n.on("evento:updated",(function(){n.emit("evento:index",(function(e){return l(e)}))}))}),[]),Object(u.jsx)(x.default,{style:I.container,children:Object(u.jsx)(O.LinearGradient,{style:I.container,colors:["#f2621a","#f2621b","#f3621a","#000000"],children:Object(u.jsxs)(C.default,{style:I.imageBg,source:F.a,children:[Object(u.jsx)(x.default,{style:I.title,children:Object(u.jsx)(p.default,{style:I.titleText,children:"Check-In"})}),Object(u.jsx)(x.default,{style:I.main,children:Object(u.jsx)(y.default,{data:c,renderItem:function(e){var n=e.item;return Object(u.jsx)(T,{item:n,onPress:function(){return t.navigate("Scanner",n)}})},keyExtractor:function(e){return e.id.toString()}})})]})})})},_=n(7),B=n.n(_),E=n(179),A=k.default.create({container:{flex:1,flexDirection:"column"},main:{flex:1,backgroundColor:"#F2621A",paddingHorizontal:"10%",paddingVertical:"50%"},camera:{borderRadius:50,flex:1,overflow:"hidden"},bottomBar:{width:"100%",height:"8%",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF"},button:{height:50,width:50,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50}}),z=n(257),D=function(e){var t=e.navigation,n=e.route.params,o=h().socket,i=Object(a.useState)(null),c=r()(i,2),l=c[0],s=c[1];return Object(a.useEffect)((function(){(function(){var e=B()((function*(){var e=(yield Object(z.requestCameraPermissionsAsync)()).status;s("granted"===e)}));return function(){return e.apply(this,arguments)}})()()}),[]),null===l?Object(u.jsx)(p.default,{children:"Requesting for camera permission"}):!1===l?Object(u.jsx)(p.default,{children:"No access to camera"}):Object(u.jsxs)(x.default,{style:A.container,children:[Object(u.jsx)(x.default,{style:A.main,children:Object(u.jsx)(x.default,{style:A.camera,children:Object(u.jsx)(z.default,{onBarCodeScanned:function(e){console.log("escaneado"),console.log(e.data),o.emit("usuario:find",e.data,(function(e){"error"===e.status?t.popToTop():t.navigate("CheckIn",{eventoId:n.id,clubeId:e.clubeId,usuario:e})}))},barCodeScannerSettings:{barCodeTypes:[E.Constants.BarCodeType.qr]}})})}),Object(u.jsx)(x.default,{style:A.bottomBar,children:Object(u.jsx)(v.default,{style:A.button,onPress:function(){return t.navigate("Codigo",{eventoId:n.id})},children:Object(u.jsx)(R.default,{name:"scan1",size:24,color:"#ffffff"})})})]})},L=k.default.create({container:{flex:1,flexDirection:"column",paddingHorizontal:"5%",paddingVertical:"20%",backgroundColor:"#F2621A"},main:{flex:1,backgroundColor:"#ffffff",borderRadius:50,overflow:"hidden",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},card:{justifyContent:"center",alignItems:"center",height:"60%",width:"100%",backgroundColor:"#0DBA3E",borderBottomRightRadius:150,borderBottomLeftRadius:150},cardText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:36},buttonContainer:{width:"100%",height:"40%",justifyContent:"flex-end",alignItems:"center"},nameText:{margin:5},button:{height:50,width:150,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50,marginBottom:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}}),N=function(e){var t=e.navigation,n=e.route.params,o=n.clubeId,r=n.eventoId,i=n.usuario,c=h().socket;console.log(i);return Object(u.jsx)(x.default,{style:L.container,children:Object(u.jsxs)(x.default,{style:L.main,children:[Object(u.jsxs)(x.default,{style:L.card,children:[Object(u.jsx)(R.default,{name:"checkcircleo",size:60,color:"#FFFFFF"}),Object(u.jsx)(p.default,{style:L.cardText,children:"Check-In"}),Object(u.jsx)(p.default,{style:L.cardText,children:"Confirmado"})]}),Object(u.jsxs)(x.default,{style:L.buttonContainer,children:[Object(u.jsx)(p.default,{style:L.nameText,children:i.nome}),Object(u.jsx)(p.default,{style:L.nameText,children:i.clube.nome}),Object(u.jsx)(v.default,{style:L.button,onPress:function(){c.emit("presenca:create",{clubeId:o,eventoId:r,usuarioId:i.id},(function(e){e.status,t.popToTop()}))},children:Object(u.jsx)(p.default,{style:L.buttonText,children:"OK"})})]})]})})},W=n(2),U=n.n(W),G=n(157),H=n(88),K=k.default.create({container:{flex:1,backgroundColor:"#F2621A",alignItems:"center"},title:{marginTop:50,textAlign:"center",fontSize:30,color:"#ffffff",fontFamily:"RobotoCondensed_400Regular"},codeFiledRoot:{marginTop:20,width:280,marginLeft:"auto",marginRight:"auto"},cellRoot:{width:30,height:60,justifyContent:"center",alignItems:"center",borderBottomColor:"#FFFFFF",borderBottomWidth:2},cellText:{color:"#FFFFFF",fontSize:32,textAlign:"center",fontFamily:"RobotoCondensed_400Regular"},focusCell:{borderBottomColor:"#189EF1",borderBottomWidth:2},button:{height:50,width:150,backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",borderRadius:50,marginTop:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t=e.navigation,n=e.route.params,o=h().socket,i=Object(a.useState)(""),c=r()(i,2),l=c[0],s=c[1],d=Object(H.useBlurOnFulfill)({value:l,cellCount:7}),f=Object(H.useClearByFocusCell)({value:l,setValue:s}),b=r()(f,2),j=b[0],g=b[1];return Object(u.jsxs)(G.default,{style:K.container,children:[Object(u.jsx)(p.default,{style:K.title,children:"Digite o c\xf3digo"}),Object(u.jsx)(H.CodeField,V(V({ref:d},j),{},{value:l,onChangeText:s,cellCount:7,rootStyle:K.codeFiledRoot,keyboardType:"number-pad",textContentType:"oneTimeCode",renderCell:function(e){var t=e.index,n=e.symbol,o=e.isFocused;return Object(u.jsx)(x.default,{onLayout:g(t),style:[K.cellRoot,o&&K.focusCell],children:Object(u.jsx)(p.default,{style:K.cellText,children:n||o&&Object(u.jsx)(H.Cursor,{})})},t)}})),Object(u.jsx)(v.default,{style:K.button,onPress:function(){o.emit("usuario:find",l,(function(e){"error"===e.status?t.popToTop():t.navigate("CheckIn",{eventoId:n.eventoId,clubeId:e.clubeId,usuario:e})}))},children:Object(u.jsx)(p.default,{style:K.buttonText,children:"OK"})})]})},$=Object(m.default)(),M=function(){return Object(u.jsxs)($.Navigator,{children:[Object(u.jsx)($.Screen,{name:"Eventos",component:P,options:{headerShown:!1}}),Object(u.jsx)($.Screen,{name:"Scanner",component:D,options:{headerShown:!1}}),Object(u.jsx)($.Screen,{name:"Codigo",component:q,options:{headerShown:!1}}),Object(u.jsx)($.Screen,{name:"CheckIn",component:N,options:{headerShown:!1}})]})},Q=n(97),X=k.default.create({container:{backgroundColor:"#ffffff",marginTop:5,marginBottom:5,borderRadius:10,flexDirection:"row",alignItems:"center",paddingHorizontal:5},input:{fontFamily:"RobotoCondensed_400Regular",paddingVertical:15,paddingLeft:5,fontSize:16,width:"100%"}});function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){U()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){return Object(u.jsxs)(x.default,{style:X.container,children:[e.iconPrefix&&e.iconPrefix,Object(u.jsx)(Q.default,Z({style:X.input},e)),e.iconSuffix&&e.iconSuffix]})},te=k.default.create({container:{flex:1},imageBg:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},mainForm:{width:"100%",padding:20},button:{backgroundColor:"#189EF1",alignItems:"center",justifyContent:"center",alignSelf:"center",width:"50%",padding:10,borderRadius:10,marginTop:50},buttonText:{color:"#ffffff",fontFamily:"RobotoCondensed_400Regular",fontSize:16}}),ne=n(255),oe=function(e){e.navigation;var t=h().login,n=function(){var e=B()((function*(){yield t("patrick.tafa@gmail.com","trick123")}));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(x.default,{style:te.container,children:Object(u.jsx)(O.LinearGradient,{style:te.container,colors:["#f2621a","#f2621b","#f3621a","#000000"],children:Object(u.jsx)(C.default,{style:te.imageBg,source:F.a,children:Object(u.jsxs)(x.default,{style:te.mainForm,children:[Object(u.jsx)(ee,{iconPrefix:Object(u.jsx)(S.default,{name:"user-alt",size:18,color:"#CCCCCC"}),value:"email"}),Object(u.jsx)(ee,{value:"email",secureTextEntry:!0,iconPrefix:Object(u.jsx)(S.default,{name:"lock",size:18,color:"#CCCCCC"}),iconSuffix:Object(u.jsx)(ne.default,{name:"ios-eye-sharp",size:18,color:"#CCCCCC"})}),Object(u.jsx)(v.default,{style:te.button,onPress:n,children:Object(u.jsx)(p.default,{style:te.buttonText,children:"Entrar"})})]})})})})},re=Object(m.default)(),ie=function(){return Object(u.jsxs)(re.Navigator,{initialRouteName:"Login",children:[Object(u.jsx)(re.Screen,{name:"Login",component:oe,options:{headerShown:!1}}),Object(u.jsx)(re.Screen,{name:"App",component:M,options:{headerShown:!1}})]})},ce=function(){return h().signed?Object(u.jsx)(M,{}):Object(u.jsx)(ie,{})},ae=function(){return Object(u.jsxs)(l.default,{children:[Object(u.jsx)(s.StatusBar,{backgroundColor:"#f2621a"}),Object(u.jsx)(g,{children:Object(u.jsx)(ce,{})})]})},le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function de(){var e=Object(i.useFonts)({RobotoCondensed_300Light:i.RobotoCondensed_300Light,RobotoCondensed_300Light_Italic:i.RobotoCondensed_300Light_Italic,RobotoCondensed_400Regular:i.RobotoCondensed_400Regular,RobotoCondensed_400Regular_Italic:i.RobotoCondensed_400Regular_Italic,RobotoCondensed_700Bold:i.RobotoCondensed_700Bold,RobotoCondensed_700Bold_Italic:i.RobotoCondensed_700Bold_Italic});return r()(e,1)[0]?Object(u.jsx)(ae,{}):Object(u.jsx)(c.default,{})}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):se(t,e)}))}}()},190:function(e,t,n){e.exports=n(242)},92:function(e,t,n){e.exports=n.p+"static/media/logo.27ca7d3d.png"}},[[190,1,2]]]);
//# sourceMappingURL=app.3664c57e.chunk.js.map